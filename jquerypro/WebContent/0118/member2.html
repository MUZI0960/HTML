<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="../js/jquery-3.6.3.min.js" type="text/javascript"></script>

<script type="text/javascript">
$(function(){
	$('#btn1').on('click', function(){
		
		// 비동기 방식 요청 - jQuery 방식
		$.ajax({ 
			
			url : 'memberAll.jsp',
// 			url : 'http://localhost/jquerypro/0117/memberList.jsp',
			type : 'get',
			success : function(res){
				
				code = `<table class="table table-dark table-hover"><tr><td>아이디</td>
						<td>이름</td>
						<td>전화번호</td></tr>`
						
				$.each(res, function(i, v) {		
					// 출력 모양 만들기				
					code += `<tr><td>${res[i].id}</td>
						<td>${res[i].name}</td>
						<td>${res[i].hp}</td></tr>`
				})
								
				code += "</table>";
				
				$('#res1').html(code);
				
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
			},
			dataType : 'json'
			
		})
		
		
		
	})
})
</script>

</head>

<body>

<div class="box">
	<br><br>
	<input type="button" value="memberList" id="btn1">
	<br>
	<div id="res1"></div>
</div>

</body>
</html>